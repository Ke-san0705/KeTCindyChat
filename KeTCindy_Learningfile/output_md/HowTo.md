# HowTo ドキュメント

## howto_k.pdf

### Page 1

10/15体験授業用
1 基礎
右クリック
図 1-1 スクリプトの場所
Cinderellaでは、上の「スクリプト」からプログラムを書くことができます。
スクリプトを右クリックすると、以下のようなウィンドウが表示されます。
プログラム入力部
テキスト表示部
図 1-2 スクリプト窓

### Page 2

このプログラム入力部のKetinit();とWindispg();の間にプログラムを書いていきます。
書いたプログラムを適用させたいときは、
図 1-3 プログラム適用
このボタンの中の左の歯車のボタンを押すことで適用できます。
また、中央のStopボタンを押すことでプログラムを停止させることができます。

### Page 3

2 Cinderella の四則演算と+α
足し算：+ 例：2+3= > 2+3
引き算：- 例：2−3= > 2-3
かけ算：* 例：2×3= > 2*3
割り算：/ 例：2÷3= > 2/3
3
…①
注意： 3/2*3 等 割り算の後掛け算を行うとき、この結果は にはなりません！
2×3
3
× 3
結果は になります！
2
式①のような処理をさせたいときは3/(2*3)、3/2/3等と書くことができます。
階乗 ：^ 例：32=>3^2

### Page 4

3 Print 関数
構文： Print(表示させたいもの);
例： Print(“みかん”);
上記例では「みかん」を1ページ目のテキスト表示部に出力します。
図 3-1 Print関数ソースと結果
変数も表示することができます。
例： a=100;
Print(a);
Print(“ aは” + a +“です。”);
図 3-2 Print関数変数表示ソースと結果
このように変数とテキストを同時に出力することもできます。
また、改行を最後に行うPrintln関数もあります。

### Page 5

4 Plotdata 関数
構文： Plotdata(グラフの名前(テキスト), 式(テキスト), 変数名(と定義域)(テキスト),[オプション]);
例： Plotdata(“1”, “2*x”, “x”);
上記例では 𝑦 =2𝑥 をCinderellaのグラフ上にgr1として表示することができます。
図 4-1 Plotdata関数ソースと結果
Tips
𝑦 =2𝑥のグラフを書く際、2*xのように*を忘れないように注意。
グラフの名前を同じにすると、グラフを書き換えることができます。
例： Plotdata(“1”, “2*x”, “x”);
Plotdata(“1”, “-2*x”, “x”); // このグラフが表示される
図 4-2 Plotdata関数更新ソースと結果
オプションの欄には[“Dis = 100”,”Num=200”]のように入力することができます。
オプションの種類
Dis： 不連続点を結ばないようにする。
Num： 解像度。大きいほどきれいにできるが、動作が重くなる。
Exc： 指定した点を除外する。

### Page 6

5 Slider 関数
構文： Slider(点の名前(テキスト), 一端の座標, もう一端の座標);
例： Slider(“A”, [-5,-3], [5,-3]);
上記例では、Aを(-5,5)~(5,-5)の半直線を移動するスライダーとします。
図 5-1 Slider関数ソースと結果
Tips
点の名前.xを使うことでスライダ上の点のx座標を取得することができます。
例： スライダ上のA点が(3,-5)にある場合
A.x 取得値: 3
点の名前.yを使うことでスライダ上の点のy座標を取得することができる
例： スライダ上のA点が(3,-5)にある場合
A.y 取得値: -5
点の名前.xyを使うことでスライダ上の点の座標を取得することができる
例： スライダ上のA点が(3,-5)にある場合
A.xy 取得値: [3,-5]
逆にこれらに値を代入することで点の位置を指定することもできる。(点は作成しておく必要あり)
例： A.xy=[1,1];
図 5-2 点の場所指定ソースと結果

### Page 7

6 Letter 関数
構文： Letter(表示したい座標（点）, 方角, テキスト);
例： Letter(A, ”ne”, ”みかん”);
注： 方角には方位n(北),s(南),w(西),e(東),c(中央)を使います
上記例では、（作成しておいた）点Aのneの方角に「みかん」を出力します。
図 6-1 Letter関数ソースと結果
変数の値も出力することができるため、以下のように変数の値と文字列を点の周りに表示することもできます。
例： Slider(“A”, [-5,-3], [5,-3]);
Letter(A, ”ne”, A.x);
図 6-2Letter関数座標参照ソースと結果

### Page 8

ボタンの作成
ボタンを作成するときは、
1.ボタンにするテキスト作成
2.ボタンにする
3.ボタンを押したときの動作を決める
の順にボタンを作成します。
1. テキストを作成
左クリック
ABCの部分が適用された状態でグラフの部分をクリック
適当な部分をクリック
すると、下のようなウィンドウが出てくると思うので、そこに適当な文字を入力し、OKを押します。
これでボタン用のテキストが作成できます。

### Page 9

2. ボタンにする
次に作成したテキストを右クリックしてインスペクタを表示します。
そして、以下のウィンドウに移動し、ボタンとして使う、クリックボタンにチェックいれます。
そうすると、ボタンが以下のように変遷します。
これでテキストをボタンに変更することができました。

### Page 10

3. ボタンにした時の動作を決める
2のインスペクタの画面に映ります
そして下のスクリプトの場所にクリックされたときに実行したいコマンドを入力します。

### Page 11

例： クリックするごとに𝑦=𝑥と𝑦=𝑥2のグラフを交互に表示するプログラム
if文と初期値の設定について。
if文： 指定した条件に合うときに中のプログラムを実行させます。Cinderellaでのif文を解説します。
構文： if(条件式, 実行したい処理, 例外処理);
初期値：変数の中に初めに入っていてほしい値を初期値と呼び、それを設定することができます。
初期値は初めに読み込むプログラムの部分で変数に初期値を入れることで設定できます。
スクリプトエディタのファイルの部分のKETlibの部分を開きます。
その後プログラム入力部が以下のようなウィンドウに代わるので、そこの最後の行で初期値を設定します。
これでflg = 0と初期値を設定することができました。
では、今回の例のプログラムについて解説をします。
flg = 0と初期値が設定されていることを前提とします。
以下がボタンのスクリプトとプログラムの例です。

### Page 12

うまくいくと次のようにグラフが変わっていきます
クリック クリック

### Page 13

入力窓の作成
入力窓を作成する際は
1. Cinderella上で入力窓を用意
2. KeTCindyで入力窓としての設定を行う
3. KeTCindyで入力窓から値を受け取る
1. Cinderella上で入力窓を作成
モード → 特別 → 文字列入力 の順に選択していきます。
文字列入力を押すと、任意の場所をクリックすると文字列を作成できるモードになります。
任意の場所をクリックすると、以下の画面になります。
このままokを押します。

### Page 14

その後、作成されたものを右クリックし、インスペクタを開きます。
インスペクタで適当に色などを調整します。また、識別番号の確認(設定)も行うので開いたままにしておいて
ください。
今回は文字を大きくし、白に黒の枠で囲まれた入力窓にしました。
枠線の調整
内側の色の調整
横幅の調整
文字の大きさ
このような入力窓になりました。
これでCinderellaの入力窓の作成は完了です。

### Page 15

2. KeTCindyで入力窓としての設定を行う
KeTCindyで入力窓として読み込むために設定を行います。
初めに識別番号の確認と設定をします。先ほど開いたインスペクタから確認を行います。
ここでは1が識別番号となっています。
次にコマンドで入力窓としての設定を行います。
Seteditableコマンド
Seteditable(識別番号 ,[ 初期文字列, ”Size = 文字の大きさ” , ”Width = 横幅”]);
SizeとWidthは入力しなくても大丈夫です。入力しない場合は先ほど設定したCinderella上での設定が参考さ
れます。初期文字列は空( “” )でもいいので設定してください。
例：
今回は「y=」を初期値として設定します。

### Page 16

3. KeTCindyで入力窓から値を受け取る
最後に値を受け取ります。
Texteditコマンド
Textedit(識別番号 [, 未入力時の値]);
未入力値の値は文字が入力されていないときもしくは「=」の後に文字がないときに返す値を設定します。
デフォルト値は空( “” )でもいいので設定してください。
この関数の返り値として入力された値を得られます。
例：
デフォルト値を「x^2」としてstrに入力された値を与えています。
最後に応用としてこれまで例として作ったプログラムから、入力された関数を表示するプログラムを作成しま
す。
注意： HTMLに書き出さないと入力窓を使えません。
Seteditableで初期文字列を設定しないとうまく動作しません。
Texteditでデフォルト値を設定しないとうまく動作しません。
あくまで「 = 」以下の値を受け取るため、初期値の設定は気を付けてください。

## howto_o.pdf

### Page 1

K TCindy 体験授業
E
NIT, Numazu College
このガイドの画像は、macOS 13.5 Ventura, Cinderella 3.0beta build2074を使用して作成
しています。
1 KETCindy の準備
KETCindyの作業フォルダを開き、templatesフォルダを開いてください。作業フォルダ
は既定ではC:\ketcindyx.x.xx\doc\workにあります。
00start.cdyを複製してファイル名を変更し、このファイルをベースとします。
複製した00start.cdyを開いてください。
2 グラフを描く
図1 CindyScriptの選択メニュー
メニューからスクリプトを選択し、CindyScriptを選択してください。
出てきたウィンドウで、CindyScriptやKETCindyを書くことができます。
グラフを書くには、Plotdata関数を利用します。
(cid:19) (cid:16)
関数とは
プログラムにおける関数とは、毎回与えられたデータをもとに、毎回決まった処理を実行
するというものです。
(cid:18) (cid:17)
1

### Page 2

Plotdata関数は、以下のような書き方です。
Plotdata(グラフのID, "数式", "変数と定義域", "グラフの設定");
(cid:19) (cid:16)
Plotdata関数の注意
グラフのIDを同じにしてPlotdata関数を繰り返して実行することでグラフを書き換え
ることができます。
y = ax のグラフを書く場合、a∗xのようにして∗を書く必要があります。
(cid:18) (cid:17)
実際にy = 3xのグラフを表示してみます。
CindyScriptの入力画面のKetinit();とWindispg();の間に
Plotdata("1", "3*x","x");
と入力してください。また、最後のコロン(;)を忘れないようにしてください。
図2 入力後のプログラム
歯車マークを押して実行すると、以下のグラフが生成されれば成功です。
図3 生成されたグラフ
Plotdata関数の式を変更して、いろいろなグラフを作ってみてください。
2

### Page 3

3 グラフを動かそう
スライダーを使ってグラフの傾きと切片を変更してみましょう。
図4 実際に作るスライダー
スライダーを作るにはSlider関数を利用します。Slider関数は以下のような書き方をします。
Slider("スライダーID", [x座標1,y座標1], [x座標2,y座標2]);
実際に傾きを変更してみます。最初に書いたPlotdata関数より上の行に
Slider("K", [-5, -6], [5, -6]);
と入力してください。これでスライダーと動かすための点を作成しました。
また、スライダーIDを”A”とした時、そのスライダーの点のx座標はA.x, y座標はA.y
と書くことでプログラム側から取得できます。
(cid:19) (cid:16)
Tips
今までPlotdata関数中の関数の切片は固定でしたが、この固定の値ををスライダーの点
の値にすることができます。
(cid:18) (cid:17)
Plotdataのグラフの関数の3をK.xに置き換えてください。
図5 入力後のプログラム
歯車マークを押して実行すると、以下のグラフが生成され、スライダーを動かすことでグラ
フの傾きが変われば成功です。
3

### Page 4

図6 生成されたグラフ
このような操作で新しくスライダーを作ることができます。
先ほどのような操作で新しくスライダーをつくり、切片もスライダーで動かせるグラフを作
ってください。
4 発展 二次関数のグラフ
ここまで完成した方は数式の中に^2と書くことで２乗を実現できます。
y = x2 のグラフは、Plotdata("1", "x^2","x");となります。
まずはy = ax2 のaの値をスライダーで変更できるプログラムを書いてみましょう。
5 発展２ 二次関数を並行移動
二次関数y = ax2 をx方向にp, y 方向にq 移動した時の式は、y = a(x−p)2+q です。高
専１年次でこの内容を学習します。例えば、y = 2(x−2)2+3のグラフは図7の緑のグラフの
ようになります。
図7 y =2x2のグラフ(g)とy =2(x−2)2+3のグラフ(f)
図7のように、y = a(x−p)2+q のグラフは、y = 2x2 のグラフをx軸方向に2、y 軸方向
に3移動したグラフになることがわかります。
y = a(x−p)2 +q のa,p,q をスライダーで変更し、二次間数を並行移動するプログラムを
書いてみましょう。また、Plotdata関数の数式部分では、括弧もそのまま入力することができ
ます。
4

### Page 5

6 発展 二次関数のグラフ 解説
まずは値を動かせるようにSlider関数を追加します。
Slider("A",[-5,-6], [5,-6]);
また、Plotdata関数はこのようになります。
Plotdata("1", "A.x*x^2","x");
図8 実行結果
7 発展２ 二次関数を並行移動 解説
まずスライダーで動かせるようにする値は3つなので、Slider関数を3つ書きます。また被
らないように位置やスライダーのIDを割り当てます。
Slider("A",[-5,-6], [5,-6]);
Slider("P",[-5,-7], [5,-7]);
Slider("Q",[-5,-8], [5,-8]);
ここでは、aの値を動かすスライダーを"A"、pの値を動かすスライダーを"P"、q の値を動
かすスライダーを"Q"としています。
また、Plotdata関数はこのようになります。
Plotdata("1", "A.x*(x-P.x)^2+Q.x", "x");
図9 実行結果
5
### Page6
